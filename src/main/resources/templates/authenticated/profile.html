<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/user_layout.html">

    <div class="container-fluid" layout:fragment="content">
        <div class="row mt-5 mb-3">
            <div class="col-4 offset-4">
                <img style="width: 100%;" th:src="@{'/viewAvatar/'+${current_user.pictureURL}}">
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-4 offset-4">
                <form th:action="@{'/change_avatar'}" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <div class="custom-file">
                            <input type="file" class="custom-file-input" name="user_ava" accept=".jpg,.jpeg,.png">
                            <label class="custom-file-label" th:text="#{profile.avatar}"></label>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-sm float-right" style="background-color: #0b2e13; border: #0b2e13" th:text="#{profile.button.update_avatar}"></button>
                    </div>
                </form>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-4 offset-4">
                <form th:action="@{'/change_profile'}" method="post">
                    <div class="form-group">
                        <label><span th:text="#{profile.email}"></span>:</label>
                        <input class="form-control" type="text" th:value="${current_user.getEmail()}" disabled>
                    </div>
                    <div class="form-group">
                        <label><span th:text="#{profile.full_name}"></span>:</label>
                        <input class="form-control" name="full_name" type="text" th:value="${current_user.getFullName()}" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-sm float-right" style="background-color: #0b2e13; border: #0b2e13" th:text="#{profile.button.update_profile}"></button>
                    </div>
                </form>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-4 offset-4">
                <form th:action="@{'/change_password'}" method="post">
                    <div class="form-group">
                        <label><span th:text="#{profile.old_password}"></span>:</label>
                        <input class="form-control" name="old_password" type="password" th:placeholder="#{profile.old_password}">
                    </div>
                    <div class="form-group">
                        <label><span th:text="#{profile.new_password}"></span>:</label>
                        <input class="form-control" name="new_password" type="password" th:placeholder="#{profile.new_password}">
                    </div>
                    <div class="form-group">
                        <label><span th:text="#{profile.re_new_password}"></span>:</label>
                        <input class="form-control" name="re_new_password" type="password" th:placeholder="#{profile.re_new_password}">
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-sm float-right" style="background-color: #0b2e13; border: #0b2e13" th:text="#{profile.button.update_password}"></button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</html>